1:优化问题1我的程序的是否存在循环引用？ 用libextobjc解决吗？

2:我的app 需要用 afn 常驻线程 和 SDWebImage 的异步吗？
   NSCache?

3:我的app 有没有主线程 和 主队列？ 数据库的操作其实可以交给线程，然后用performSelectorOnMainThread 然后UI线程来显示新的数据
   有的UI线程就是主线程，没有主队列！因为我这里没有多线程的操作，全是单线程的ui操作。就一个线程的话是没有队列的！什么情况下有队列呢？
   在使用gcd,nsoperationqueue的时候才有队列。gcd会有两个主队列 串行队列，并发队列。用nstread 就没有所谓队列，优先级都是自己设置
   nsoperationqueue 就只有一个队列，把nsoperation 放进其队列中即可。

4:我的app 需不需要用gcd 和 operationQueue 优化一下？
    要，数据库操作要，网络操作也要，但是ui操作就不用，ui只要在主线程就好了。
     内购 支付 登陆 都是网络多线程操作。数据存，取也是。所以我的app 的未来的功能是要这些的。

5:我的app 的线程安全嘛？和atomic 有关嘛？
    为了保障线程安全，就要看是用什么方法来操作多线程的。用nstread的话，可以用@synchronized nslock nscondition来保障线程同步。
    同时也要注意不要牺牲太多性能。 atomic 只是在 get setter 方法加锁了很耗资源，且不是完全安全。当线程1在写a 此时线程2读a 会读错
    我的app 在多线程操作的时候才需要考虑安全性的问题。目前不用。nslock < 300 微秒 nscondition=300 微秒 @synchronized 效率
    1100 微秒

6:我的app 的runloop 是在干嘛？
    哈哈看了视频非常的不错，死循环，处理各种事件。否则休眠。
    时钟 网络事件 触摸事件 [NSRunloop currentRunloop]addTimer
    解决时钟事件，ui的冲突。解决加载大图片，等等事情和主线程的冲突。
    所以要检测并且用runloop各种时钟事件 网络事件 和ui事件的冲突


7:我的app 的难题有嘛？交互 复杂动画 性能 安全
   性能嘛 多线程-runloop绘制ui 线程安全呗 交互不卡顿。有啊，做那个删除collectionviewcell的时候就有线程安全的问题。
线程安全可以用osspinlock dispatch_semaphore pthread_mutex nscondition nslock pm(re)
nsrecursivelock nsconditionlock @synchronized。 其中dispatch_semaphore 的性能很好！



8:有什么封装得比较好的复杂组件？
    呵呵太多了 日历就是 导航栏 profileviewcontroller 也是

9:第三方库？
    没想到了，太多了太多了太多了。方便死了！！！


10:第三方sdk?
    极光推送 登陆模块 支付内购啥的 友盟 还有科大讯飞

11:其中有什么dispatch 到 main 的问题？
    这没有，得深入了解多线程后才知道。

12:需要有jsonKit 嘛？
   处理后台传来的json格式的数据时，用jsonkit 会比较好。目前还没有需要

13:重构是必要的嘛？
   非常有必要，可以让一个极其乱复杂的项目变得简单且易于管理。通常和模式有
   基于mvc的重构，或者是mvp mvvm的重构。

14:ui 轮播效果呢？
   目前还不需要！

15:我自己会敲代码嘛？
   多练呗

16:页面传值怎么传？delegate 嘛 ？
   属性产值，block, delegate也可以。但是跨界面的话。
   就用 NSUserDefaults *defaults 的操作


17:有nstimer的内存泄漏嘛？
   就是个循环引用的问题

18:会用  afnetwork 嘛？ 会实现其常驻线程嘛？
   还没有用到。

19:离屏渲染如何避免？ 圆角性能嘛？
   目前ui 很简单，没必要考虑性能。

20:app 中有 mvc mvvm kvo kvc 模式嘛？
   要用 mvvm 重构。kvo应用广多了，值变化引发函数。
  category-放辅助开发 tools-放业务工具。controller
   viewModels   Model  Services mvvm 主要是靠notification kvo
   实现 vm-v vm-m的双向绑定。

21:有循环引用造成的内存泄漏嘛
   目前没有

22：跳转页面究竟启动了哪些函数？

23：要不要用tableview

24：继承的类会导致无法释放掉嘛？

25:目前让我困惑的 背景图片功能。获取了图片后是，保存图片本身，还是它的路径。
   做过了实验得知，就是网易云，微信，格致等等的app。图片绝壁存在本地的。是以某种方式。
   存在了沙盒，文件夹，缓存里。肯定不是路径。就是相册里删除了，它也存在于app里。
   所以关键的方法，在于如何存图片到数据库里，本地文件夹，缓存中。并且进行管理。因为到时候头像，日记里的图片。
   素材，皮肤，都需要这个技术。不用猜了，搞定了,在数据库里创建一个picture表格。专门存系统用的素材，日记图片等等东西。

26:kvo如何刷新主界面的背景？
   这就难办了，我监听什么值？这是个问题，监听viewcontroller里的int类型change 值？然后直接在viewcontroller添加监视器。
   然后呢？在personalizationviewcontroller 里改变viewcontroller的值么？没错这就是问题，我在personlizationvc里根本
   接触不到viewc的change值。所以kvo根本无从用起。关键还是在于 在换屏界面中，按下打勾的那一刻。把viewcontroller 的viewwP的函数
   重启。所以需要非常了解 viewcontroller 的对象如何传到这个界面中。话说这不就是跨界面传值呗，nsdefault. 把viewcontroller对象
   传到了换屏页然后趁打勾的时候，手动启动其viewwillappear函数。这其实就是个跨界面传值的问题. 没想到啊danimationvc至始至终都带有
   rootviewcontroller 只要在关键时刻引用一下。。。。。。。唉！！！！

27:如何添加完成提示弹出框？
   经过测试，弹出框只在主界面弹出，在换屏界面无论是点回退还是点勾勾都没有jb用。
   所以不是他没用，只是他在实现上有点考虑欠缺。可能只想着说在主窗口弹出？因为本着就是换屏界面没有addsubview
   所以经过修改他的部分代码，我搞定了。

29: tableview是什么，有什么需要了解它的吗？
    其实很简单 1-先声明一个tableview 2-赋值给它基础属性 3-给它部署一个头部 4-给它的头部定制化 5-实现它的协议
     6-定制化一个tableviewCell 7-给cell声明控件和控件集合 8-实现cell初始化函数 9-给cell控件部署以及布局
    10-定制化一个控件集合类。这是一个大概，其中特别注意的是，头部的定制化是一个轮播插件。现实协议的时候要注意小标题，行眉行脚等等。
    定制化一个cell其实就是button+两个label。
    发现了循环引用！！！viewcontroller 持有 tableview. tableview 持有 delegate = self
    tableview 感觉就是添加不上屏幕，其实不是,是因为没有data source，没有头部设定，没有cell。应该是不用该他设置什么大小的！
    借鉴了其他项目的代码，一下子就搞定了。很漂亮的界面。

30: 商店界面怎么设置？
    首先是字体居中，字体大小变小，图片压扁添加背景色。呵呵完成了。总之就是弄成个表格呗。表头轮播器。表项是商品。


31 如何保存起模糊度？
    这个的话，先建一个新表，appStat，然后记录一些app的日常数字类的信息。所以是有2个属性。学习那个picture类是记录
    id - stat。 比如ID=BackgroundAlpha,stat=0.99 啥的。之后是什么呢？就是加载mainview设bg 的下面也要去数据库查找这个值。
    然后personlizationVC里也要，同时点击勾勾的时候要把值存并改到数据库里。不用判断了，一开始vc初始化，为0就是没有则存0有则不做事。
    然后 slider 的值也是取然后设相等。大概完成了，但是personlizationVC 没有变是怎么回事？算是完成了90%。但是有点小bug。来回设置的
    时候会发现。完成了。

32 如何解某些黑色背景图遮盖了黑色字体？
    这个通过添加具有透明度的背景。完成了。

33 如何解决提交空白uiimage 当桌面？
     判断用户点击勾勾时候，icon是不是空。空则弹窗。完成了

34 如何搞定内购功能？
     从网上看，第一步就是在itunes connect里填好协议，税务，银行表很简单。再到用户职能那添加一个沙盒测试员。然后到我的app里面去，添加一个新的版本。我的话，我添加了一个新版1.4 app。这里插一句话。在app的初始化里必须有代码检测是否有新版。
     然后提醒用户更新这是很重要的。在新版1.4 中我添加内购项目，请我喝茶，然后设置好信息就ok了。
     第三步是到内购界面里实现，#import <StoreKit/StoreKit.h>的两个协议
     SKPaymentTransactionObserver,SKProductsRequestDelegate就好了，非常简单。接下来难的是
     如何设置漂亮的购买界面。其实不难，一个好的购买界面，可以参考一下。一个轮播图网络，tableview第一行。
     第二行加个小标题，或者是图片，然后分割。之后就是摩拜单车那样，双商品放置的排版。这就是购买界面。广告可以放轮播图中，所以轮播图的大小也要注意。所以第一个问题是设置整个tableview框架！
     差不多搞定了！差不多了。。。今天完成了storeKit的20多个协议函数。

35 如何搞定tableview+日历+添加事务？ 这是版本1.4的完成
   让日历本身变成 背景透明 圆角 和tableView 的框架。接下来这个就需要点想象力了。表格首当其冲！！
   完成了。砍了天气，砍了ai, 砍了今日任务，本月任务。做减法是必要的！！

36 这两天的关于ai 小z界面的思考？
    一开始想做一个类似星际争霸的ai界面+今日天气信息框出来。折腾了半天意识到了要用unity3d，很麻烦，非常麻烦，很可能要混合编程。所以决定放弃了。但是并没有说放弃今日天气信息框。但是万万没想到，今日天气信息框绝对没有想象中的简单，它涉及网络申请 afnetwork gps定位 json数据处理， 添加城市，展示天气信息，等等复杂的模块。所以。。。。我做减法，把小z界面放弃掉，也顺便把今日天气信息框放弃掉。
      等下一个版本1.4 就不添加了。

37 如何弄日记排版功能？
    参考的时间到了。
    1. 瀑布流式，贴图瀑布文字瀑布相互交互。我这几天想了很多。也参考了很多app。最后决定了用瀑布流。上面一个图片瀑布流
下面一个文字框瀑布流，文字框就是问题？可以添加图9个。然后图片自适应瀑布流。下面可以有1-4个文字框。默认4个文字框。有点像windows 开始界面的布局。每个框都是圆角且大小不规则！暂定如此！搞了很久，现在最后决定了。采用tableview

38 如何解决透明度 模糊度 以及背景图裁剪问题？
   先考虑引入透明度。搞定了

39 清理bug
   1)bug1 增加图片取消后空白  2）有图片的日期没显示 3）没显示今天 4）删图片只能删一张 5）回退 增加图片 删除图片按钮悬浮
6）在删图模式中比较屏蔽掉其他按钮 7）无图的空白写日记界面 textView 有问题 8）删掉最后一张会出黑洞 9）非常低概率的图片重复存多了
10)出现存多图的情况了，在反复点+ 然后点取消 然后后退！
ps 目前为止没有发现 图片变多的情况，之前出现过一次。
  把10) 9) 1) 5)解决了    还有2 3 4 6 7 8
3也差不多了！3有最后一点没有搞定。现在是2的问题。需要用appstat对象来


长期战略：
就是登陆，writingView排版。
就是一个简单的ai 可爱的自问答，并且搭建起商店功能卖会员。可以永久买下喜欢的模版，素材套装。AI人物。或者是成为会员享受一段时间的免费。
就是语音功能。以及一些日记app都会有的东西，icloud 数据备份。pdf导出。搜索。总结功能。
这应该算是，大概完成品了。加入一些第三方库，友盟，支付宝微信支付，极光推送，等等。
同时考虑，如何上推荐名单。如何让app测评媒体，和各种各样流量注意到我的产品。
和博哥讨论了，深度学习的情感分析可以考虑一下，预测分析可以考虑一下，还有导入微博功能可以考虑一下。笔记功能也可以考虑一下。还有最最重要的
分享功能可以考虑一下。朋友圈分享。导入现在市面上所有相关app的信息？嘿嘿嘿嘿嘿。其实浏览功能也很重要。
